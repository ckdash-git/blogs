<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>CAP Theorem on Chandan Kumar Dash</title>
        <link>http://localhost:53376/tags/cap-theorem/</link>
        <description>Recent content in CAP Theorem on Chandan Kumar Dash</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Sun, 08 Feb 2026 00:00:00 +0000</lastBuildDate><atom:link href="http://localhost:53376/tags/cap-theorem/index.xml" rel="self" type="application/rss+xml" /><item>
            <title>Consistency in Distributed Systems: The Data Truth</title>
            <link>http://localhost:53376/blogs/system-design/consistency-in-distributed-systems/</link>
            <pubDate>Sun, 08 Feb 2026 00:00:00 +0000</pubDate>
            <guid>http://localhost:53376/blogs/system-design/consistency-in-distributed-systems/</guid>
            <description>&lt;p&gt;In our last post on &lt;a class=&#34;link&#34; href=&#34;http://localhost:53376/blogs/system-design/availability-and-fault-tolerance/&#34; &gt;Availability&lt;/a&gt;, we saw that &lt;strong&gt;Replication&lt;/strong&gt; is key to keeping systems alive. But Replication introduces a new problem: &lt;strong&gt;Consistency&lt;/strong&gt;.&lt;/p&gt;&#xA;&lt;p&gt;If you have two copies of a database, and you update one, the other is instantly &amp;ldquo;stale.&amp;rdquo; Ideally, both would update instantly, but in the real world, that takes time.&lt;/p&gt;&#xA;&lt;h2 id=&#34;what-is-consistency&#34;&gt;What is Consistency?&#xA;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Consistency&lt;/strong&gt; means that every read receives the most recent write or an error. In simple terms: &lt;strong&gt;All clients see the same data at the same time.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;real-life-example-the-atm-problem&#34;&gt;Real-Life Example: The ATM Problem&#xA;&lt;/h3&gt;&lt;p&gt;Imagine you have $500 in your bank account.&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;You&lt;/strong&gt; withdraw $500 from an ATM in Delhi.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Your Spouse&lt;/strong&gt; simultaneously tries to withdraw $500 from an ATM in Pune.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;In a &lt;strong&gt;Consistent&lt;/strong&gt; system, the second transaction fails because the balance is $0.&#xA;In an &lt;strong&gt;Inconsistent&lt;/strong&gt; system, both transactions might succeed, and the bank loses money.&lt;/p&gt;&#xA;&lt;h2 id=&#34;monoliths-vs-distributed-systems&#34;&gt;Monoliths vs. Distributed Systems&#xA;&lt;/h2&gt;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;System Type&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Consistency Level&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Why?&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Monolithic&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Naturally High&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Single database (Source of Truth). No sync needed.&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Distributed&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Hard to Maintain&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Data is spread across nodes. Sync takes time (Network Latency).&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h2 id=&#34;types-of-consistency-models&#34;&gt;Types of Consistency Models&#xA;&lt;/h2&gt;&lt;p&gt;In distributed systems, you often have to choose between speed and accuracy.&lt;/p&gt;&#xA;&lt;h3 id=&#34;1-strong-consistency&#34;&gt;1. Strong Consistency&#xA;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Definition&lt;/strong&gt;: Once a write is successful, &lt;strong&gt;all&lt;/strong&gt; subsequent reads return the new value.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Mechanism&lt;/strong&gt;: The system locks data during updates. Read operations wait until all replicas acknowledge the update.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Trade-off&lt;/strong&gt;: Higher Latency (slower).&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Use Case&lt;/strong&gt;: &lt;strong&gt;Banking Systems&lt;/strong&gt;, &lt;strong&gt;Stock Trading&lt;/strong&gt;, &lt;strong&gt;Train Ticket Booking&lt;/strong&gt; (IRCTC). You cannot sell the same seat twice.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre class=&#34;mermaid&#34;&gt;&#xA;  sequenceDiagram&#xA;    participant Client&#xA;    participant Primary&#xA;    participant Replica&#xA;    Client-&amp;gt;&amp;gt;Primary: Write(X=10)&#xA;    Primary-&amp;gt;&amp;gt;Replica: Sync(X=10)&#xA;    Replica--&amp;gt;&amp;gt;Primary: Acknowledge&#xA;    Primary--&amp;gt;&amp;gt;Client: Success&#xA;    Note right of Client: Now all reads see X=10&#xA;&lt;/pre&gt;&#xA;&#xA;&lt;h3 id=&#34;2-eventual-consistency&#34;&gt;2. Eventual Consistency&#xA;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Definition&lt;/strong&gt;: If no new updates are made, &lt;strong&gt;eventually&lt;/strong&gt; all accesses will return the last updated value.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Mechanism&lt;/strong&gt;: The system returns &amp;ldquo;Success&amp;rdquo; to the client immediately after updating the primary node. Replicas update in the background.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Trade-off&lt;/strong&gt;: Lower Latency (faster), but risk of stale data.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Use Case&lt;/strong&gt;: &lt;strong&gt;Social Media Feeds&lt;/strong&gt; (Instagram/Twitter). If you change your profile picture, it’s okay if your friend sees the old one for a few more seconds.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;3-weak-consistency&#34;&gt;3. Weak Consistency&#xA;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Definition&lt;/strong&gt;: There is no guarantee that a read will return the most recent write. It relies on &amp;ldquo;best effort.&amp;rdquo;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Use Case&lt;/strong&gt;: &lt;strong&gt;Live Video Streaming&lt;/strong&gt;, &lt;strong&gt;VoIP&lt;/strong&gt;. If you miss a frame of video, it’s gone. The system doesn&amp;rsquo;t pause to sync.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;how-to-improve-consistency&#34;&gt;How to Improve Consistency&#xA;&lt;/h2&gt;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;Stop Read Operations&lt;/strong&gt;: During a major update, put the system in &amp;ldquo;Maintenance Mode.&amp;rdquo; (Brute force approach).&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Reduce Replica Distance&lt;/strong&gt;: Place replicas closer to each other to minimize sync time.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Application Coordination&lt;/strong&gt;: Use consensus algorithms like &lt;strong&gt;Paxos&lt;/strong&gt; or &lt;strong&gt;Raft&lt;/strong&gt; (used in Kubernetes/Etcd) to ensure nodes agree on the truth.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&#xA;&lt;/h2&gt;&lt;p&gt;Consistency is a spectrum.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Need &lt;strong&gt;Accuracy&lt;/strong&gt;? Choose &lt;strong&gt;Strong Consistency&lt;/strong&gt; (but accept slower performance).&lt;/li&gt;&#xA;&lt;li&gt;Need &lt;strong&gt;Speed&lt;/strong&gt;? Choose &lt;strong&gt;Eventual Consistency&lt;/strong&gt; (but accept temporary staleness).&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;As a system architect, your job is to know which part of your app needs which model. Billing must be Strong; Recommendations can be Eventual.&lt;/p&gt;&#xA;</description>
        </item><item>
            <title>The CAP Theorem: You Can&#39;t Have It All</title>
            <link>http://localhost:53376/blogs/system-design/cap-theorem/</link>
            <pubDate>Sun, 08 Feb 2026 00:00:00 +0000</pubDate>
            <guid>http://localhost:53376/blogs/system-design/cap-theorem/</guid>
            <description>&lt;p&gt;In distributed systems, there is no free lunch. The &lt;strong&gt;CAP Theorem&lt;/strong&gt; (Brewer&amp;rsquo;s Theorem) states that a distributed data store can effectively provide only &lt;strong&gt;two&lt;/strong&gt; of the following three guarantees:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;Consistency (C)&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Availability (A)&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Partition Tolerance (P)&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;the-three-pillars&#34;&gt;The Three Pillars&#xA;&lt;/h2&gt;&lt;h3 id=&#34;1-consistency-c&#34;&gt;1. Consistency (C)&#xA;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Every read receives the most recent write or an error.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;em&gt;Analogy&lt;/em&gt;: If you update your status on Facebook on your phone, your friend on their laptop should see the new status immediately. If they see the old one, the system is &lt;strong&gt;Inconsistent&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;2-availability-a&#34;&gt;2. Availability (A)&#xA;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Every request receives a (non-error) response, without the guarantee that it contains the most recent write.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;em&gt;Analogy&lt;/em&gt;: Even if the network is flaky, Amazon should allow you to add items to your cart. It’s better to sell the item and sync later than to show a &amp;ldquo;System Offline&amp;rdquo; error.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;3-partition-tolerance-p&#34;&gt;3. Partition Tolerance (P)&#xA;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;The system continues to operate despite an arbitrary number of messages being dropped or delayed by the network between nodes.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;em&gt;Analogy&lt;/em&gt;: If the cable connecting the US and Europe servers is cut, the system should still work.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;the-reality-p-is-not-optional&#34;&gt;The Reality: P is Not Optional&#xA;&lt;/h2&gt;&lt;p&gt;In a Distributed System, network failures (Partitions) are inevitable. You cannot choose &amp;ldquo;CA&amp;rdquo; (Consistency + Availability) because that implies your network will never fail, which is impossible.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Therefore, the real choice is between CP and AP.&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;cp-consistency--partition-tolerance&#34;&gt;CP (Consistency + Partition Tolerance)&#xA;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Philosophy&lt;/strong&gt;: &amp;ldquo;Better to return Error than Wrong Data.&amp;rdquo;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Behavior&lt;/strong&gt;: When a partition occurs, the system stops accepting writes to preserve consistency.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Use Case&lt;/strong&gt;: &lt;strong&gt;Banking&lt;/strong&gt;, &lt;strong&gt;ATM&lt;/strong&gt;. You cannot allow two peole to withdraw the same $100 if the ATMs lose connection. The ATM simply says &amp;ldquo;Out of Service&amp;rdquo; (Sacrificing Availability).&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;ap-availability--partition-tolerance&#34;&gt;AP (Availability + Partition Tolerance)&#xA;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Philosophy&lt;/strong&gt;: &amp;ldquo;The Show Must Go On.&amp;rdquo;&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Behavior&lt;/strong&gt;: When a partition occurs, nodes continue to accept writes and serve stale data. They sync up when the partition heals.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Use Case&lt;/strong&gt;: &lt;strong&gt;Social Media&lt;/strong&gt;, &lt;strong&gt;Shopping Carts&lt;/strong&gt;. If Instagram cannot sync your latest photo globally, it will still show your profile. It stays Available, even if Inconsistent.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre class=&#34;mermaid&#34;&gt;&#xA;  graph TD&#xA;    subgraph CP [CP System - Banking]&#xA;        A[ATM 1] -. X .- B[Bank Database]&#xA;        linkStyle 0 stroke-width:2px,fill:none,stroke:red;&#xA;        User1[User] --&amp;gt; A&#xA;        A -- &amp;#34;Service Unavailable&amp;#34; --&amp;gt; User1&#xA;    end&#xA;    &#xA;    subgraph AP [AP System - Social Media]&#xA;        C[Server 1] -. X .- D[Server 2]&#xA;        linkStyle 3 stroke-width:2px,fill:none,stroke:red;&#xA;        User2[User] --&amp;gt; C&#xA;        C -- &amp;#34;Here is older data&amp;#34; --&amp;gt; User2&#xA;        %% Note: C Accepts Writes locally&#xA;    end&#xA;&lt;/pre&gt;&#xA;&#xA;&lt;h2 id=&#34;summary-table&#34;&gt;Summary Table&#xA;&lt;/h2&gt;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Choice&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Trade-off&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;Example&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;CA&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;No Partition Tolerance&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;RDBMS (MySQL)&lt;/strong&gt; (Single Node)&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;CP&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Sacrifice Availability&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;MongoDB, HMAC&lt;/strong&gt; (Banking)&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;AP&lt;/strong&gt;&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Sacrifice Consistency&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Cassandra, DynamoDB&lt;/strong&gt; (Social Media)&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&#xA;&lt;/h2&gt;&lt;p&gt;The CAP Theorem forces you to decide what matters more to your business.&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;If losing a transaction means legal trouble (Money), choose &lt;strong&gt;CP&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;li&gt;If downtime means losing customers (Retail/Social), choose &lt;strong&gt;AP&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;There is no &amp;ldquo;best&amp;rdquo; architecture, only the right one for your specific problem.&lt;/p&gt;&#xA;</description>
        </item></channel>
</rss>
